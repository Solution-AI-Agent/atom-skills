# 커버리지 검증 (Coverage Verification)

2025 귀속 연말정산 스킬의 PDF 원문 대비 ref/calculator 반영 현황.

- **원본 PDF**: `docs/ref/2025년 원천징수의무자를 위한 연말정산 신고안내.pdf` (418p)
- **과세연도**: 2025 귀속
- **검증 기준**: 종합사례(이강모) [p.212-219] 전 항목 일치 확인
- **테스트**: 286 tests passed (pytest)

---

## 1. 레퍼런스 커버리지

| PDF 장/절 | 페이지 | ref 파일 | 반영 상태 | 비고 |
|-----------|--------|----------|----------|------|
| 근로소득 유형/비과세 | p.50-79 | `01-income-types.md` | 완료 | 식대/차량/출산지원금/보육수당 등 주요 비과세 항목 |
| 인적공제 (기본/추가) | p.95-104 | `02-basic-deductions.md` | 완료 | 기본공제, 경로우대, 장애인, 부녀자, 한부모, 자녀세액공제 |
| 보험료 공제 | p.106-107, p.169-172 | `03-insurance.md` | 완료 | 소득공제(건강/고용) + 세액공제(보장성/장애인전용) |
| 의료비 세액공제 | p.172-177 | `04-medical.md` | 완료 | 난임시술비 30%, 미숙아 20%, 일반 15%, 안경/산후조리원 한도 |
| 교육비 세액공제 | p.177-186 | `05-education.md` | 완료 | 취학전/초중고/대학/본인/장애인 구분, 교복/체험학습 한도 |
| 주택 관련 공제 | p.107-119, p.122-123, p.202-204 | `06-housing.md` | 완료 | 임차차입금/장기주택저당/주택마련저축 소득공제 + 월세 세액공제 |
| 기부금 세액공제 | p.186-198 | `07-donation.md` | 완료 | 정치자금/고향사랑/특례/우리사주/일반(종교/비종교) |
| 신용카드등 소득공제 | p.131-147 | `08-card-cash.md` | 완료 | 결제수단별 공제율, 기본/추가 한도, 소득공제 종합한도 |
| 연금 관련 공제 | p.103-104, p.120-121, p.164-168 | `09-pension.md` | 완료 | 국민연금 소득공제 + 연금저축/퇴직연금 세액공제 |
| 세율표/산출세액 | p.83, p.94, p.162-163 | `10-tax-rates.md` | 완료 | 근로소득공제 5단계, 기본세율 8단계, 근로소득세액공제 |
| 원천징수의무자 절차 | p.27-48 | `11-process-employer.md` | 완료 | 신고일정, 서류, 간소화, 검증, 신고/납부 |
| 근로자 절차/일정 | p.26-27, p.358-382 | `12-process-employee.md` | 완료 | 간소화서비스, 서류제출, 경정청구, 일정 |

---

## 2. 계산식 커버리지

| 계산 항목 | PDF 위치 | 스크립트 | 함수 | 테스트 | 검증 |
|-----------|----------|----------|------|--------|------|
| 근로소득공제 | p.94 | `income_tax.py` | `calc_earned_income_deduction()` | 43 tests | 이강모: 13,020,000 |
| 근로소득금액 | p.94 | `income_tax.py` | `calc_earned_income_amount()` | (포함) | 이강모: 52,380,000 |
| 과세표준 | p.83 | `income_tax.py` | `calc_taxable_income()` | (포함) | 이강모: 36,285,000 |
| 산출세액 (기본세율) | p.83 | `income_tax.py` | `calc_calculated_tax()` | (포함) | 이강모: 4,182,750 |
| 근로소득세액공제 | p.162-163 | `income_tax.py` | `calc_earned_income_tax_credit()` | (포함) | 이강모: 660,000 |
| 기본공제 (인적) | p.95 | `personal_deduction.py` | `calc_basic_personal_deduction()` | 33 tests | 이강모: 6,000,000 |
| 추가공제 | p.99-102 | `personal_deduction.py` | `calc_additional_deduction()` | (포함) | 경로우대/장애인/부녀자/한부모 |
| 자녀세액공제 | p.160-161 | `personal_deduction.py` | `calc_child_tax_credit()` | (포함) | 이강모: 950,000 |
| 보험료 소득공제 | p.106-107 | `insurance_deduction.py` | `calc_insurance_income_deduction()` | 17 tests | 이강모: 1,700,000 |
| 보험료 세액공제 | p.169-172 | `insurance_deduction.py` | `calc_insurance_tax_credit()` | (포함) | 이강모: 120,000 |
| 의료비 세액공제 | p.172-177 | `medical_deduction.py` | `calc_medical_tax_credit()` | 16 tests | 이강모: 950,700 |
| 교육비 세액공제 | p.177-186 | `education_deduction.py` | `calc_education_tax_credit()` | 23 tests | 이강모: 630,000 |
| 주택자금 소득공제 | p.107-119 | `housing_deduction.py` | `calc_housing_loan_deduction()` | 34 tests | 이강모: 1,000,000 |
| 월세 세액공제 | p.202-204 | `housing_deduction.py` | `calc_rent_tax_credit()` | (포함) | 5,500만 기준 17%/15% |
| 기부금 세액공제 | p.186-198 | `donation_deduction.py` | `calc_donation_tax_credit()` | 31 tests | 이강모: 271,818 |
| 신용카드등 소득공제 | p.131-147 | `card_deduction.py` | `calc_card_deduction()` | 29 tests | 이강모: 4,895,000 |
| 연금보험료 소득공제 | p.103-104 | `pension_deduction.py` | `calc_pension_insurance_deduction()` | 17 tests | 이강모: 2,500,000 |
| 연금계좌 세액공제 | p.164-168 | `pension_deduction.py` | `calc_pension_tax_credit()` | (포함) | 이강모: 360,000 |
| 소득공제 종합한도 | p.147 | `total_calculator.py` | `_apply_deduction_limit()` | 43 tests | 한도 2,500만원 |
| 통합 세액 계산 | p.212-219 | `total_calculator.py` | `calc_year_end_tax()` | (포함) | 이강모: 결정세액 240,232 / 환급 -759,768 |

---

## 3. 상수 검증 (constants.py)

| 구분 | 상수 | PDF 위치 | 값 | 검증 |
|------|------|----------|-----|------|
| 근로소득공제 | `EARNED_INCOME_DEDUCTION_BRACKETS` | p.94 | 5단계 (70%~2%) | 이강모 일치 |
| 근로소득공제 한도 | `EARNED_INCOME_DEDUCTION_CAP` | p.94 | 2,000만원 | 이강모 일치 |
| 기본세율 | `INCOME_TAX_BRACKETS` | p.83 | 8단계 (6%~45%) | 이강모 일치 |
| 근로소득세액공제 | `EARNED_INCOME_TAX_CREDIT_*` | p.162-163 | 55%/30%, 한도 4구간 | 이강모 일치 |
| 인적공제 | `PERSONAL_DEDUCTION_PER_PERSON` | p.95 | 150만원 | 이강모 일치 |
| 자녀세액공제 | `CHILD_CREDIT_*` | p.160-161 | 25만/55만/+30만, 출산 30/50/70만 | 이강모 일치 |
| 보험료 | `INSURANCE_*` | p.170 | 100만원 한도, 12%/15% | 이강모 일치 |
| 의료비 | `MEDICAL_*` | p.172-177 | 3% 기준, 15%/20%/30%, 700만 한도 | 이강모 일치 |
| 교육비 | `EDUCATION_*` | p.177-186 | 취학전/초중고 300만, 대학 900만, 15% | 이강모 일치 |
| 주택자금 | `HOUSING_*` | p.107-119 | 임차 40%, 저축 40%, 장기저당 구간별 | 이강모 일치 |
| 기부금 | `DONATION_*` | p.186-198 | 정치 100/110, 고향 100/110, 특례 15%/30% | 이강모 일치 |
| 신용카드 | `CARD_*` | p.131-147 | 15%/30%/40%, 기본 300만/250만 | 이강모 일치 |
| 연금 | `PENSION_*` | p.164-168 | 저축 600만, 합산 900만, 12%/15% | 이강모 일치 |
| 소득공제 종합한도 | `TOTAL_DEDUCTION_LIMIT` | p.147 | 2,500만원 | 이강모 일치 |
| 표준세액공제 | `STANDARD_TAX_CREDIT` | p.174 | 13만원 | PDF 확인 |

---

## 4. 종합사례 검증 (이강모) [p.212-219]

통합 계산기(`total_calculator.py`)로 이강모 사례를 재현한 결과:

| 항목 | PDF 값 | 계산기 값 | 일치 |
|------|--------|-----------|------|
| 총급여액 | 65,400,000 | 65,400,000 | O |
| 근로소득공제 | 13,020,000 | 13,020,000 | O |
| 근로소득금액 | 52,380,000 | 52,380,000 | O |
| 인적공제 | 6,000,000 | 6,000,000 | O |
| 연금보험료 소득공제 | 2,500,000 | 2,500,000 | O |
| 보험료 소득공제 | 1,700,000 | 1,700,000 | O |
| 주택자금 소득공제 | 1,000,000 | 1,000,000 | O |
| 신용카드등 소득공제 | 4,895,000 | 4,895,000 | O |
| 과세표준 | 36,285,000 | 36,285,000 | O |
| 산출세액 | 4,182,750 | 4,182,750 | O |
| 근로소득세액공제 | 660,000 | 660,000 | O |
| 자녀세액공제 | 950,000 | 950,000 | O |
| 연금계좌세액공제 | 360,000 | 360,000 | O |
| 보험료세액공제 | 120,000 | 120,000 | O |
| 의료비세액공제 | 950,700 | 950,700 | O |
| 교육비세액공제 | 630,000 | 630,000 | O |
| 기부금세액공제 | 271,818 | 271,818 | O |
| 특별세액공제 합계 | 1,972,518 | 1,972,518 | O |
| 결정세액 | 240,232 | 240,232 | O |
| 환급세액 | -759,768 | -759,768 | O |

**검증 결과: 20/20 항목 일치 (100%)**

---

## 5. 미반영 항목 (의도적 제외)

| 항목 | PDF 위치 | 사유 |
|------|----------|------|
| 일용근로자 세액계산 | p.80-82 | 일용근로소득 별도 원천징수 체계 (일반 연말정산 대상 아님) |
| 외국인 근로자 특례 | p.150-159 | 19% 단일세율 특례 등 외국인 전용 규정 (별도 스킬 권장) |
| 퇴직소득 세액계산 | p.287-318 | 퇴직소득 별도 과세 체계 |
| 사업소득/기타소득 | p.319-357 | 연말정산 대상 외 소득 |
| 중소기업 취업자 감면 | p.148-150 | 조세특례제한법 상 별도 감면 (ref에 개요만 수록) |
| 납세조합 공제 | p.150 | 적용 사례 매우 제한적 |
| 개인연금저축 소득공제 | p.120-121 | 2000.12.31 이전 가입분만 해당 (신규가입 불가) |

---

## 6. 테스트 현황

| 테스트 파일 | 테스트 수 | 상태 |
|------------|----------|------|
| `test_income_tax.py` | 43 | PASS |
| `test_personal_deduction.py` | 33 | PASS |
| `test_insurance_deduction.py` | 17 | PASS |
| `test_medical_deduction.py` | 16 | PASS |
| `test_education_deduction.py` | 23 | PASS |
| `test_housing_deduction.py` | 34 | PASS |
| `test_donation_deduction.py` | 31 | PASS |
| `test_card_deduction.py` | 29 | PASS |
| `test_pension_deduction.py` | 17 | PASS |
| `test_total_calculator.py` | 43 | PASS |
| **합계** | **286** | **ALL PASS** |
