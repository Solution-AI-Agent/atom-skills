"""
2025 귀속 연말정산 상수 (Constants for Year-End Tax Settlement)

모든 금액 단위: 원 (KRW)
매년 세법 개정 시 이 파일만 업데이트하면 됩니다.

Sources: 2025년 원천징수의무자를 위한 연말정산 신고안내 PDF
"""

# =============================================================================
# 1. 근로소득공제 (소법 제47조) [p.94]
# =============================================================================
# (상한, 기준누적공제, 초과분공제율)
EARNED_INCOME_DEDUCTION_BRACKETS = [
    (5_000_000, 0, 0.70),           # 500만원 이하: 70%
    (15_000_000, 3_500_000, 0.40),  # 500만~1,500만원: 350만원 + 초과분 40%
    (45_000_000, 7_500_000, 0.15),  # 1,500만~4,500만원: 750만원 + 초과분 15%
    (100_000_000, 12_000_000, 0.05),  # 4,500만~1억원: 1,200만원 + 초과분 5%
    (float('inf'), 14_750_000, 0.02),  # 1억원 초과: 1,475만원 + 초과분 2%
]
EARNED_INCOME_DEDUCTION_CAP = 20_000_000  # 공제한도 2,000만원 [p.94]

# =============================================================================
# 2. 종합소득세 기본세율 (소법 제55조) [p.83]
# =============================================================================
# (상한, 누진공제액, 세율)
INCOME_TAX_BRACKETS = [
    (14_000_000, 0, 0.06),              # 1,400만원 이하: 6%
    (50_000_000, 1_260_000, 0.15),      # 1,400만~5,000만원: 15%
    (88_000_000, 5_760_000, 0.24),      # 5,000만~8,800만원: 24%
    (150_000_000, 15_440_000, 0.35),    # 8,800만~1.5억원: 35%
    (300_000_000, 19_940_000, 0.38),    # 1.5억~3억원: 38%
    (500_000_000, 25_940_000, 0.40),    # 3억~5억원: 40%
    (1_000_000_000, 35_940_000, 0.42),  # 5억~10억원: 42%
    (float('inf'), 65_940_000, 0.45),   # 10억원 초과: 45%
]

# =============================================================================
# 3. 근로소득세액공제 (소법 제59조) [p.162-163]
# =============================================================================
EARNED_INCOME_TAX_CREDIT_THRESHOLD = 1_300_000  # 130만원 기준
EARNED_INCOME_TAX_CREDIT_RATE_LOW = 0.55  # 130만원 이하: 55%
EARNED_INCOME_TAX_CREDIT_BASE = 715_000  # 71.5만원
EARNED_INCOME_TAX_CREDIT_RATE_HIGH = 0.30  # 130만원 초과: 30%

# 세액공제 한도 (총급여액 구간별) [p.162]
# (상한, 기본한도, 초과분감소율, 최저한도)
EARNED_INCOME_TAX_CREDIT_LIMITS = [
    (33_000_000, 740_000, 0, 740_000),          # 3,300만원 이하: 74만원
    (70_000_000, 740_000, 0.008, 660_000),      # 3,300만~7,000만원
    (120_000_000, 660_000, 0.5, 500_000),       # 7,000만~1.2억원
    (float('inf'), 500_000, 0.5, 200_000),      # 1.2억원 초과
]
EARNED_INCOME_TAX_CREDIT_MIN_LIMIT = 200_000  # 세액공제 최저한도 (1.2억 초과) [p.162]

# =============================================================================
# 4. 인적공제 [p.95-104]
# =============================================================================
PERSONAL_DEDUCTION_PER_PERSON = 1_500_000  # 기본공제 1인당 150만원 [p.95]
ADDITIONAL_DEDUCTION_ELDERLY = 1_000_000   # 경로우대 100만원 (70세 이상) [p.99]
ADDITIONAL_DEDUCTION_DISABLED = 2_000_000  # 장애인 200만원 [p.100]
ADDITIONAL_DEDUCTION_SINGLE_PARENT = 1_000_000  # 한부모 100만원 [p.102]
ADDITIONAL_DEDUCTION_WOMAN = 500_000       # 부녀자 50만원 [p.101]

# 기본공제 소득요건
DEPENDENT_INCOME_LIMIT = 1_000_000  # 소득금액 100만원 [p.95]
DEPENDENT_SALARY_LIMIT = 5_000_000  # 근로소득만 있는 경우 총급여 500만원 [p.95]

# =============================================================================
# 5. 보험료 공제 [p.106-107, p.169-172]
# =============================================================================
# 소득공제: 국민건강보험료 등 - 전액 공제 (한도 없음) [p.104]
# 세액공제: 보장성보험료
INSURANCE_DEDUCTION_LIMIT = 1_000_000  # 연 100만원 한도 [p.170]
INSURANCE_DEDUCTION_RATE = 0.12  # 12% [p.170]
INSURANCE_DISABLED_DEDUCTION_LIMIT = 1_000_000  # 장애인전용 연 100만원 한도 [p.170]
INSURANCE_DISABLED_DEDUCTION_RATE = 0.15  # 15% [p.170]

# =============================================================================
# 6. 의료비 세액공제 [p.172-177]
# =============================================================================
MEDICAL_THRESHOLD_RATE = 0.03  # 총급여액의 3% [p.172]
MEDICAL_RATE_GENERAL = 0.15  # 일반 의료비 15% [p.172]
MEDICAL_RATE_PREMATURE = 0.20  # 미숙아/선천성이상아 20% [p.172]
MEDICAL_RATE_INFERTILITY = 0.30  # 난임시술비 30% [p.172]
MEDICAL_OTHER_DEPENDENT_LIMIT = 7_000_000  # 그 외 부양가족 연 700만원 [p.173]
MEDICAL_GLASSES_LIMIT = 500_000  # 시력교정용 안경 1인당 연 50만원 [p.175]
MEDICAL_POSTPARTUM_LIMIT = 2_000_000  # 산후조리원 출산 1회당 200만원 [p.176]

# =============================================================================
# 7. 교육비 세액공제 [p.177-186]
# =============================================================================
EDUCATION_RATE = 0.15  # 15% [p.177]
EDUCATION_LIMIT_PRESCHOOL = 3_000_000  # 취학전 아동 1인당 연 300만원 [p.180]
EDUCATION_LIMIT_ELEMENTARY_MIDDLE_HIGH = 3_000_000  # 초중고 1인당 연 300만원 [p.180]
EDUCATION_LIMIT_UNIVERSITY = 9_000_000  # 대학생 1인당 연 900만원 [p.180]
EDUCATION_LIMIT_SELF = float('inf')  # 본인 전액 [p.180]
EDUCATION_LIMIT_DISABLED_SPECIAL = float('inf')  # 장애인 특수교육비 전액 [p.180]
EDUCATION_UNIFORM_LIMIT = 500_000  # 교복 1인당 연 50만원 [p.178]
EDUCATION_FIELD_TRIP_LIMIT = 300_000  # 현장체험학습 1인당 연 30만원 [p.178]

# =============================================================================
# 8. 주택자금 공제 [p.107-119, p.122-123, p.202-204]
# =============================================================================
# 주택임차차입금 원리금상환액
HOUSING_RENT_LOAN_RATE = 0.40  # 40% [p.107]
HOUSING_RENT_LOAN_SAVINGS_LIMIT = 4_000_000  # 주택임차+주택마련저축 합산 400만원 [p.109]

# 주택마련저축
HOUSING_SAVINGS_RATE = 0.40  # 40% [p.122]
HOUSING_SAVINGS_ANNUAL_LIMIT = 3_000_000  # 연 납입액 300만원 이하 [p.122]
HOUSING_SAVINGS_SALARY_LIMIT = 70_000_000  # 총급여 7천만원 이하 [p.122]

# 장기주택저당차입금 이자상환액 공제 한도 (2024.1.1. 이후 차입분) [p.114]
HOUSING_MORTGAGE_LIMITS_POST_2024 = {
    'fixed_noballoon_15y': 20_000_000,  # 고정+비거치 15년이상: 2,000만원
    'fixed_or_noballoon_15y': 18_000_000,  # 고정 또는 비거치 15년이상: 1,800만원
    'other_15y': 8_000_000,  # 기타 15년이상: 800만원
    'fixed_or_noballoon_10y': 6_000_000,  # 고정 또는 비거치 10~15년: 600만원
}

# 월세액 세액공제 [p.202-204]
RENT_CREDIT_SALARY_LIMIT = 80_000_000  # 총급여 8천만원 이하 [p.202]
RENT_CREDIT_ANNUAL_LIMIT = 10_000_000  # 연 1,000만원 한도 [p.202]
RENT_CREDIT_RATE_LOW = 0.17  # 총급여 5,500만원 이하: 17% [p.202]
RENT_CREDIT_RATE_HIGH = 0.15  # 총급여 5,500만원 초과: 15% [p.202]
RENT_CREDIT_SALARY_THRESHOLD = 55_000_000  # 5,500만원 기준 [p.202]

# =============================================================================
# 9. 기부금 세액공제 [p.186-198]
# =============================================================================
# 정치자금기부금 공제율 [p.187]
DONATION_POLITICAL_RATE_UNDER_100K = 100 / 110  # 10만원 이하: 100/110
DONATION_POLITICAL_RATE_UNDER_30M = 0.15  # 10만원 초과 3천만원 이하: 15%
DONATION_POLITICAL_RATE_OVER_30M = 0.25  # 3천만원 초과: 25%
DONATION_POLITICAL_THRESHOLD_1 = 100_000  # 10만원 기준
DONATION_POLITICAL_THRESHOLD_2 = 30_000_000  # 3천만원 기준

# 고향사랑기부금 공제율 [p.187]
DONATION_HOMETOWN_THRESHOLD = 100_000  # 10만원 기준
DONATION_HOMETOWN_RATE_UNDER_100K = 100 / 110  # 10만원 이하: 100/110
DONATION_HOMETOWN_RATE_OVER_100K = 0.15  # 10만원 초과: 15%
DONATION_HOMETOWN_LIMIT = 20_000_000  # 개인별 연간 상한 2,000만원 [p.189]

# 특례/우리사주/일반 기부금 공제율 [p.186]
DONATION_SPECIAL_RATE_UNDER_10M = 0.15  # 1천만원 이하: 15%
DONATION_SPECIAL_RATE_OVER_10M = 0.30  # 1천만원 초과: 30%
DONATION_SPECIAL_THRESHOLD = 10_000_000  # 1천만원 기준

# 우리사주조합기부금 한도율 [p.187]
DONATION_ESOP_LIMIT_RATE = 0.30  # 30%

# 일반기부금 한도율 [p.187]
DONATION_GENERAL_LIMIT_RATE_RELIGIOUS = 0.10  # 종교단체: 10%
DONATION_GENERAL_LIMIT_RATE_NON_RELIGIOUS = 0.30  # 종교단체 외: 30%
DONATION_GENERAL_LIMIT_RATE_NON_RELIGIOUS_WITH_RELIGIOUS = 0.20  # 종교단체 있을 때 종교외: 20% [p.187]

# =============================================================================
# 10. 신용카드 등 소득공제 (조특법 제126조의2) [p.131-147]
# =============================================================================
CARD_MINIMUM_USAGE_RATE = 0.25  # 총급여액의 25% [p.131]

# 결제수단별 공제율 [p.132]
CARD_RATE_CREDIT = 0.15  # 신용카드: 15%
CARD_RATE_DEBIT = 0.30  # 체크카드/현금영수증: 30%
CARD_RATE_CULTURE = 0.30  # 문화체육: 30% (총급여 7천만원 이하)
CARD_RATE_TRADITIONAL = 0.40  # 전통시장: 40%
CARD_RATE_TRANSIT = 0.40  # 대중교통: 40%

# 기본 공제 한도 [p.131]
CARD_LIMIT_UNDER_70M_RATE = 0.20  # 총급여 7천만원 이하: Min(총급여x20%, 300만원)
CARD_LIMIT_UNDER_70M_CAP = 3_000_000  # 300만원
CARD_LIMIT_OVER_70M = 2_500_000  # 총급여 7천만원 초과: 250만원

# 추가 공제 한도 [p.132]
CARD_ADDITIONAL_LIMIT_UNDER_70M = 3_000_000  # 7천만원 이하: 300만원
CARD_ADDITIONAL_LIMIT_OVER_70M = 2_000_000  # 7천만원 초과: 200만원

CARD_SALARY_THRESHOLD = 70_000_000  # 7천만원 기준

# =============================================================================
# 11. 연금계좌 세액공제 (소법 제59의3) [p.164-168]
# =============================================================================
PENSION_SAVINGS_LIMIT = 6_000_000  # 연금저축 연 600만원 [p.164]
PENSION_TOTAL_LIMIT = 9_000_000  # 연금저축+퇴직연금 합산 연 900만원 [p.164]
PENSION_RATE_LOW_SALARY = 0.15  # 총급여 5,500만원 이하: 15% [p.164]
PENSION_RATE_HIGH_SALARY = 0.12  # 총급여 5,500만원 초과: 12% [p.164]
PENSION_SALARY_THRESHOLD = 55_000_000  # 5,500만원 기준 [p.164]

# =============================================================================
# 12. 자녀세액공제 (소법 제59의2) [p.160-161]
# =============================================================================
CHILD_CREDIT_1 = 250_000  # 8세 이상 1명: 25만원 [p.160]
CHILD_CREDIT_2 = 550_000  # 8세 이상 2명: 55만원 [p.160]
CHILD_CREDIT_EXTRA = 300_000  # 3명 이상 추가 1인당 30만원 [p.160]
CHILD_CREDIT_BIRTH_1ST = 300_000  # 출산/입양 첫째: 30만원 [p.160]
CHILD_CREDIT_BIRTH_2ND = 500_000  # 출산/입양 둘째: 50만원 [p.160]
CHILD_CREDIT_BIRTH_3RD = 700_000  # 출산/입양 셋째이상: 70만원 [p.160]

# =============================================================================
# 13. 소득공제 종합한도 (조특법 제132조의2) [p.147]
# =============================================================================
TOTAL_DEDUCTION_LIMIT = 25_000_000  # 소득공제 종합한도 2,500만원 [p.147]

# =============================================================================
# 14. 표준세액공제 (소법 제59의4 (3)) [p.174]
# =============================================================================
STANDARD_TAX_CREDIT = 130_000  # 13만원 [p.174]

# =============================================================================
# 과세연도
# =============================================================================
TAX_YEAR = 2025
